var I=(e,r,t)=>new Promise((o,n)=>{var i=u=>{try{f(t.next(u))}catch(l){n(l)}},c=u=>{try{f(t.throw(u))}catch(l){n(l)}},f=u=>u.done?o(u.value):Promise.resolve(u.value).then(i,c);f((t=t.apply(e,r)).next())});import{r as a,R as Q}from"./vendor-react-BgBXYHvm.js";import{R as Z}from"./vendor-react-dom-BBUhmhcj.js";import{m as $,u as N,a as j,N as H,b as ee,c as te,D as z,d as B,R as re,e as ne,f as ae,g as oe}from"./vendor-react-router-4iDMQ-pU.js";import{b as ie,d as se,E as le,s as W,i as Y,e as A}from"./vendor-@remix-run-DIosy_T7.js";/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},C.apply(this,arguments)}function ue(e,r){if(e==null)return{};var t={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(r.indexOf(n)>=0)&&(t[n]=e[n]);return t}function ce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fe(e,r){return e.button===0&&(!r||r==="_self")&&!ce(e)}function U(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let o=e[t];return r.concat(Array.isArray(o)?o.map(n=>[t,n]):[[t,o]])},[]))}function de(e,r){let t=U(e);return r&&r.forEach((o,n)=>{t.has(n)||r.getAll(n).forEach(i=>{t.append(n,i)})}),t}const he=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ve="6";try{window.__reactRouterVersion=ve}catch(e){}function Ae(e,r){return ie({basename:r==null?void 0:r.basename,future:C({},r==null?void 0:r.future,{v7_prependBasename:!0}),history:se({window:r==null?void 0:r.window}),hydrationData:(r==null?void 0:r.hydrationData)||me(),routes:e,mapRouteProperties:$,dataStrategy:r==null?void 0:r.dataStrategy,patchRoutesOnNavigation:r==null?void 0:r.patchRoutesOnNavigation,window:r==null?void 0:r.window}).initialize()}function me(){var e;let r=(e=window)==null?void 0:e.__staticRouterHydrationData;return r&&r.errors&&(r=C({},r,{errors:pe(r.errors)})),r}function pe(e){if(!e)return null;let r=Object.entries(e),t={};for(let[o,n]of r)if(n&&n.__type==="RouteErrorResponse")t[o]=new le(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let i=window[n.__subType];if(typeof i=="function")try{let c=new i(n.message);c.stack="",t[o]=c}catch(c){}}if(t[o]==null){let i=new Error(n.message);i.stack="",t[o]=i}}else t[o]=n;return t}const we=a.createContext({isTransitioning:!1}),Re=a.createContext(new Map),Se="startTransition",K=Q[Se],ye="flushSync",V=Z[ye];function ge(e){K?K(e):e()}function _(e){V?V(e):e()}class Ee{constructor(){this.status="pending",this.promise=new Promise((r,t)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",r(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",t(o))}})}}function Ke(e){let{fallbackElement:r,router:t,future:o}=e,[n,i]=a.useState(t.state),[c,f]=a.useState(),[u,l]=a.useState({isTransitioning:!1}),[s,v]=a.useState(),[h,w]=a.useState(),[R,b]=a.useState(),T=a.useRef(new Map),{v7_startTransition:x}=o||{},L=a.useCallback(d=>{x?ge(d):d()},[x]),m=a.useCallback((d,y)=>{let{deletedFetchers:p,flushSync:F,viewTransitionOpts:g}=y;p.forEach(E=>T.current.delete(E)),d.fetchers.forEach((E,q)=>{E.data!==void 0&&T.current.set(q,E.data)});let X=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!g||X){F?_(()=>i(d)):L(()=>i(d));return}if(F){_(()=>{h&&(s&&s.resolve(),h.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation})});let E=t.window.document.startViewTransition(()=>{_(()=>i(d))});E.finished.finally(()=>{_(()=>{v(void 0),w(void 0),f(void 0),l({isTransitioning:!1})})}),_(()=>w(E));return}h?(s&&s.resolve(),h.skipTransition(),b({state:d,currentLocation:g.currentLocation,nextLocation:g.nextLocation})):(f(d),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}))},[t.window,h,s,T,L]);a.useLayoutEffect(()=>t.subscribe(m),[t,m]),a.useEffect(()=>{u.isTransitioning&&!u.flushSync&&v(new Ee)},[u]),a.useEffect(()=>{if(s&&c&&t.window){let d=c,y=s.promise,p=t.window.document.startViewTransition(()=>I(this,null,function*(){L(()=>i(d)),yield y}));p.finished.finally(()=>{v(void 0),w(void 0),f(void 0),l({isTransitioning:!1})}),w(p)}},[L,c,s,t.window]),a.useEffect(()=>{s&&c&&n.location.key===c.location.key&&s.resolve()},[s,h,n.location,c]),a.useEffect(()=>{!u.isTransitioning&&R&&(f(R.state),l({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),b(void 0))},[u.isTransitioning,R]),a.useEffect(()=>{},[]);let S=a.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:d=>t.navigate(d),push:(d,y,p)=>t.navigate(d,{state:y,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(d,y,p)=>t.navigate(d,{replace:!0,state:y,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[t]),P=t.basename||"/",G=a.useMemo(()=>({router:t,navigator:S,static:!1,basename:P}),[t,S,P]),J=a.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return a.createElement(a.Fragment,null,a.createElement(z.Provider,{value:G},a.createElement(B.Provider,{value:n},a.createElement(Re.Provider,{value:T.current},a.createElement(we.Provider,{value:u},a.createElement(re,{basename:P,location:n.location,navigationType:n.historyAction,navigator:S,future:J},n.initialized||t.future.v7_partialHydration?a.createElement(Te,{routes:t.routes,future:t.future,state:n}):r))))),null)}const Te=a.memo(Le);function Le(e){let{routes:r,future:t,state:o}=e;return ne(r,void 0,o,t)}const Pe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=a.forwardRef(function(r,t){let{onClick:o,relative:n,reloadDocument:i,replace:c,state:f,target:u,to:l,preventScrollReset:s,viewTransition:v}=r,h=ue(r,he),{basename:w}=a.useContext(H),R,b=!1;if(typeof l=="string"&&Ce.test(l)&&(R=l,Pe))try{let m=new URL(window.location.href),S=l.startsWith("//")?new URL(m.protocol+l):new URL(l),P=W(S.pathname,w);S.origin===m.origin&&P!=null?l=P+S.search+S.hash:b=!0}catch(m){}let T=ae(l,{relative:n}),x=xe(l,{replace:c,state:f,target:u,preventScrollReset:s,relative:n,viewTransition:v});function L(m){o&&o(m),m.defaultPrevented||x(m)}return a.createElement("a",C({},h,{href:R||T,onClick:b||i?o:L,ref:t,target:u}))});function Me(e){let{getKey:r,storageKey:t}=e;return Oe({getKey:r,storageKey:t}),null}var k;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(k||(k={}));var D;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D||(D={}));function be(e){let r=a.useContext(z);return r||Y(!1),r}function _e(e){let r=a.useContext(B);return r||Y(!1),r}function xe(e,r){let{target:t,replace:o,state:n,preventScrollReset:i,relative:c,viewTransition:f}=r===void 0?{}:r,u=j(),l=N(),s=oe(e,{relative:c});return a.useCallback(v=>{if(fe(v,t)){v.preventDefault();let h=o!==void 0?o:A(l)===A(s);u(e,{replace:h,state:n,preventScrollReset:i,relative:c,viewTransition:f})}},[l,u,s,o,n,t,e,i,c,f])}function je(e){let r=a.useRef(U(e)),t=a.useRef(!1),o=N(),n=a.useMemo(()=>de(o.search,t.current?null:r.current),[o.search]),i=j(),c=a.useCallback((f,u)=>{const l=U(typeof f=="function"?f(n):f);t.current=!0,i("?"+l,u)},[i,n]);return[n,c]}const M="react-router-scroll-positions";let O={};function Oe(e){let{getKey:r,storageKey:t}=e===void 0?{}:e,{router:o}=be(k.UseScrollRestoration),{restoreScrollPosition:n,preventScrollReset:i}=_e(D.UseScrollRestoration),{basename:c}=a.useContext(H),f=N(),u=ee(),l=te();a.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Ue(a.useCallback(()=>{if(l.state==="idle"){let s=(r?r(f,u):null)||f.key;O[s]=window.scrollY}try{sessionStorage.setItem(t||M,JSON.stringify(O))}catch(s){}window.history.scrollRestoration="auto"},[t,r,l.state,f,u])),typeof document!="undefined"&&(a.useLayoutEffect(()=>{try{let s=sessionStorage.getItem(t||M);s&&(O=JSON.parse(s))}catch(s){}},[t]),a.useLayoutEffect(()=>{let s=r&&c!=="/"?(h,w)=>r(C({},h,{pathname:W(h.pathname,c)||h.pathname}),w):r,v=o==null?void 0:o.enableScrollRestoration(O,()=>window.scrollY,s);return()=>v&&v()},[o,c,r]),a.useLayoutEffect(()=>{if(n!==!1){if(typeof n=="number"){window.scrollTo(0,n);return}if(f.hash){let s=document.getElementById(decodeURIComponent(f.hash.slice(1)));if(s){s.scrollIntoView();return}}i!==!0&&window.scrollTo(0,0)}},[f,n,i]))}function Ue(e,r){let{capture:t}={};a.useEffect(()=>{let o=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",e,o),()=>{window.removeEventListener("pagehide",e,o)}},[e,t])}export{Ve as L,Ke as R,Me as S,Ae as c,je as u};
